#
#
#                              S I M   G I N E
#
#             __               ___   ______,-------
#           __==__,------------/|\--|      | .-.-.|    ___________
#         (|     |--------------|---|------| '-`-`|  _/___________\_
#         (|_____|      _       _   |   _  | 6000 | |               |
#          |__\\_|`-._/___\___/___\_|_/___\|      | |               |
#         __/ |===|--|_____|_|_____|_|___  |\_____|=|_______________|
#      |=|[_]==[_]    \ _ /   \ _ /   \ _ /          [_]   [_]   [_]
#
#
#                     A Simluator Framework for MythOS(tm)
#
#                     Microsoft Windows 95/98/NT Version
#
#  Copyright (c) 1997-1999 by Dan Higdon, Tim Little, and Chuck Walbourn
#
#
#
# THE AUTHORS MAKE NO WARRANTIES, EXPRESS OR IMPLIED, AS TO THE CORRECTNESS
# OF THIS CODE OR ANY DERIVATIVE WORKS WHICH INCORPORATE IT.  THE AUTHORS
# PROVIDE THE CODE ON AN "AS-IS" BASIS AND EXPLICITLY DISCLAIMS ANY
# LIABILITY, INCLUDING CONSEQUENTIAL AND INCIDENTAL DAMAGES FOR ERRORS,
# OMISSIONS, AND OTHER PROBLEMS IN THE CODE.
#
#
#
#                        http://www.mythos-engine.org/
#
#
#
# Created by Dan Higdon and Chuck Walbourn
#
# makefile
#
#

#
#
#                               Variables
#
#

!if "$(DEBUG)" == ""
DEBUG = NO
!endif

!if "$(THREAD)" == ""
THREAD = YES
!endif

!if "$(MYTH95ROOT)" == ""
MYTH95ROOT = \MythOS95
!endif

INCPATH = ;..\inc;$(MYTH95ROOT)\inc;

#Ŀ
# File specific variables                                                  
#

LIB = simgine

OBJS = \
simpch.obj\
simassrt.obj\
simaudio.obj\
simbase.obj\
simequip.obj\
simgine.obj\
simobj.obj\
simofld.obj\
simproc.obj\
simscrn.obj\
simsd3d.obj\
simsdd.obj\
simsdib.obj\
simstart.obj\
simstate.obj\
simtemp.obj\
simtext.obj\
simttabl.obj\
simui.obj\
simulatr.obj\
simunit.obj\
simview.obj

#Ŀ
# First target                                                             
#

all: setstden $(LIB).pch $(LIB).lib

#Ŀ
# Standard make include                                                    
#

!include $(MYTH95ROOT)\inc\make.inc

#
#
#                                 Rules
#
#

#--- .c, .cpp, .asm setup in standard include ---

{..\}.cpp{}.obj:
        $(CPP) $(CCOPTIONS) /Yusimgine.hpp /Fp$(LIB).pch  $<

#
#
#                              Dependencies
#
#

$(LIB).pch :
    del simpch.obj

simpch.obj : ..\simpch.cpp
    $(CPP) /Ycsimgine.hpp /Fp$(LIB).pch $(CCOPTIONS) ..\$*.cpp

#Ŀ
# Library                                                                  
#

$(LIB).lib: $(OBJS)
   -del $(LIB).lib
   $(LB) $(LBOPTS) /OUT:$(LIB).lib @<<
   $(OBJS)
<<

release: all
   copy ..\inc\*.* $(MYTH95ROOT)\inc
   copy $(LIB).lib $(MYTH95ROOT)\lib

clean:
   @del *.obj
   @del *.err
   @del *.lst
   @del *.ilk
   @del *.pdb
   @del *.pch

# End of makefile 

