#
#                                                      _o######ooooooo-_
#     Spielberg -- Animation player library          o#####o_o#####~~~~~~
#                                                   ################o__o
#      Microsoft Windows 95/98/NT Version        _o###########~~~~~###~
#                                               o##############
#                                            _o###############~
#                                          _o#########~ooo~##~
#                                     _o############# ##o::___
#                                   _o#################oo:~~~~~
#                                 _o#####################~
#                               _####~_oooooooo:~~######~
#                             _##### o###########_:~##~
#                            o#####_##################
#                           _#######_~#################_
#                           ##########o:~###############o
#                         _##############o~##############_
#                       o#############~~     ~~~~~~~######_
#                   __o##########~::o_             o#######
#              _oo##########~~::o#####            o###########o___
#          o##########~~~~    ~~~##########       ~~~~#############o
#         #####~~~~~~                ~~~
#
#  Copyright (c) 1996-1999 by Dan Higdon, Tim Little, and Chuck Walbourn
#
#
#
# THE AUTHORS MAKE NO WARRANTIES, EXPRESS OR IMPLIED, AS TO THE CORRECTNESS
# OF THIS CODE OR ANY DERIVATIVE WORKS WHICH INCORPORATE IT.  THE AUTHORS
# PROVIDE THE CODE ON AN "AS-IS" BASIS AND EXPLICITLY DISCLAIMS ANY
# LIABILITY, INCLUDING CONSEQUENTIAL AND INCIDENTAL DAMAGES FOR ERRORS,
# OMISSIONS, AND OTHER PROBLEMS IN THE CODE.
#
#
#
#                        http://www.mythos-engine.org/
#
#
#
# Created by Tim Little & Chuck Walbourn
#
# makefile
#
#

#
#
#                               Variables
#
#

!if "$(DEBUG)" == ""
DEBUG = NO
!endif

!if "$(THREAD)" == ""
THREAD = YES
!endif

!if "$(MYTH95ROOT)" == ""
MYTH95ROOT = \MythOS95
!endif

INCPATH = ;..\inc;$(MYTH95ROOT)\inc;

#Ŀ
# File specific variables                                                  
#

LIB = spielbrg

OBJS = \
sbrgpch.obj\
sbrgamp.obj\
sbrgamsp.obj\
sbrgbase.obj

#Ŀ
# First target                                                             
#

all: setstden $(LIB).lib

#Ŀ
# Standard make include                                                    
#

!include $(MYTH95ROOT)\inc\make.inc

#
#
#                                 Rules
#
#

#--- .c, .cpp, .asm setup in standard include ---

#--- .cpp
{..\}.cpp{}.obj:
        $(CPP) $(CCOPTIONS) /Yuspielbrg.hpp /Fp$(LIB).pch $<


#
#
#                              Dependencies
#
#

$(LIB).pch :
    del sbrgpch.obj

sbrgpch.obj : ..\sbrgpch.cpp
    $(CPP) /Ycspielbrg.hpp /Fp$(LIB).pch $(CCOPTIONS) ..\$*.cpp

#Ŀ
# Library                                                                  
#

$(LIB).lib:   $(OBJS)
   -del $(LIB).lib
   $(LB) $(LBOPTS) /OUT:$(LIB).lib @<<
   $(OBJS)
<<

release: all
   copy ..\inc\s*.* $(MYTH95ROOT)\inc
   copy $(LIB).lib $(MYTH95ROOT)\lib

clean:
   del *.obj
   del *.err
   del *.lst
   del *.pdb
   del *.pch

# End of makefile 

