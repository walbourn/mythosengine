#
#                            
#           ^           **   **   **** ***** *    ****     ^      Take me to
#          (_)            * *     *      *   *    *       (_)    / your
#     ^                    *      **     *   *    **            ^  leader...
#    (_)       ^          * *     *      *   *    *            (_)
#             (_)       **   **   *    ***** **** ****
#
#            Copyright (c) 1994-1997 by Charybdis Enterprises, Inc.
#                             All Rights Reserved.
#
#
#
#           *** Charybdis Enterprises, Inc. Company Confidential ***
#
#  This file and all associated files are the company proprietary property
#        of Charybdis Enterprises, Inc.  Unauthorized use prohibited.
#
# CHARYBDIS ENTERPRISES, INC. MAKES NO WARRANTIES, EXPRESS OR IMPLIED, AS
# TO THE CORRECTNESS OF THIS CODE OR ANY DERIVATIVE WORKS WHICH INCORPORATE
# IT.  CHARYBDIS ENTERPRISES, INC. PROVIDES THE CODE ON AN "AS-IS" BASIS
# AND EXPLICITLY DISCLAIMS ANY LIABILITY, INCLUDING CONSEQUENTIAL AND
# INCIDENTAL DAMAGES FOR ERRORS, OMISSIONS, AND OTHER PROBLEMS IN THE CODE.
#
#
#
# Created by Chuck Walbourn
# Ported to Windows by Dan Higdon
#
# makefile
#
#

#
#
#                               Variables
#                                
#

!if "$(DEBUG)" == ""
DEBUG = NO
!endif

!if "$(MYTH95ROOT)" == ""
MYTH95ROOT = \MythOS95
!endif

INCPATH = ;..\inc;$(MYTH95ROOT)\inc;

#Ŀ
# File specific variables                                                  
#

LIB = xfile

OBJS = \
xfbase.obj\
xfbitmap.obj\
xfbmp.obj\
xfbparse.obj\
xfcel.obj\
xfdisk.obj\
xfdskbuf.obj\
xfifchnk.obj\
xfiff.obj\
xfifform.obj\
xfini.obj\
xfiobase.obj\
xfiodir.obj\
xfioenv.obj\
xfioerr.obj\
xfiofind.obj\
xfiofinf.obj\
xfiofmsc.obj\
xfiogfre.obj\
xfiopath.obj\
xfiread.obj\
xfiwrite.obj\
xflbm.obj\
xfpcx.obj\
xfram.obj\
xftga.obj\
xfxeb.obj

#Ŀ
# First target                                                             
#

all: setstden $(LIB).lib

#Ŀ
# Standard make include                                                    
#

!include $(MYTH95ROOT)\inc\make.inc

#
#
#                                 Rules
#
#

#--- .c, .cpp, .asm setup in standard include ---

#--- .asm
{..\Bitmap\}.asm{}.obj:
   $(ASM) $(ASMOPTS) $<

{..\IFF\}.asm{}.obj:
   $(ASM) $(ASMOPTS) $<

{..\INI\}.asm{}.obj:
   $(ASM) $(ASMOPTS) $<

{..\IO\}.asm{}.obj:
   $(ASM) $(ASMOPTS) $<

#--- .c
{..\Bitmap\}.c{}.obj:
	$(CC) $(CCOPTIONS) $<

{..\IFF\}.c{}.obj:
	$(CC) $(CCOPTIONS) $<

{..\INI\}.c{}.obj:
	$(CC) $(CCOPTIONS) $<

{..\IO\}.c{}.obj:
	$(CC) $(CCOPTIONS) $<

#--- .cpp
{..\Bitmap\}.cpp{}.obj:
	$(CPP) $(CCOPTIONS) $<

{..\IFF\}.cpp{}.obj:
	$(CPP) $(CCOPTIONS) $<

{..\INI\}.cpp{}.obj:
	$(CPP) $(CCOPTIONS) $<

{..\IO\}.cpp{}.obj:
	$(CPP) $(CCOPTIONS) $<

#
#
#                              Dependencies
#
#

#Ŀ
# Library                                                                  
#

$(LIB).lib:   $(OBJS)
    -del $(LIB).lib
    $(LB) $(LBOPTS) /out:$(LIB).lib @<<
    $(OBJS: =
)
<<

release: all
    copy ..\inc\xf*.* $(MYTH95ROOT)\inc
    copy $(LIB).lib $(MYTH95ROOT)\lib

clean:
    del *.obj
    del *.res
    del *.err
    del *.lst
    del *.ilk
    del *.pdb

# End of makefile 

