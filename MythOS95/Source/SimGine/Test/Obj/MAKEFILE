#
#
#                              S I M   G I N E
#
#             __               ___   ______,-------
#           __==__,------------/|\--|      | .-.-.|    ___________
#         (|     |--------------|---|------| '-`-`|  _/___________\_
#         (|_____|      _       _   |   _  | 6000 | |               |
#          |__\\_|`-._/___\___/___\_|_/___\|      | |               |
#         __/ |===|--|_____|_|_____|_|___  |\_____|=|_______________|
#      |=|[_]==[_]    \ _ /   \ _ /   \ _ /          [_]   [_]   [_]
#
#
#                     A Simluator Framework for MythOS(tm)
#
#                     Microsoft Windows 95/98/NT Version
#
#  Copyright (c) 1997-1999 by Dan Higdon, Tim Little, and Chuck Walbourn
#
#
#
# THE AUTHORS MAKE NO WARRANTIES, EXPRESS OR IMPLIED, AS TO THE CORRECTNESS
# OF THIS CODE OR ANY DERIVATIVE WORKS WHICH INCORPORATE IT.  THE AUTHORS
# PROVIDE THE CODE ON AN "AS-IS" BASIS AND EXPLICITLY DISCLAIMS ANY
# LIABILITY, INCLUDING CONSEQUENTIAL AND INCIDENTAL DAMAGES FOR ERRORS,
# OMISSIONS, AND OTHER PROBLEMS IN THE CODE.
#
#
#
#                        http://www.mythos-engine.org/
#
#
#
# Created by Dan Higdon and Chuck Walbourn
#
# makefile
#
#

#
#
#                               Variables
#
#

!if "$(DEBUG)" == ""
DEBUG = NO
!endif

!if "$(THREAD)" == ""
THREAD = YES
!endif

!if "$(MYTH95ROOT)" == ""
MYTH95ROOT = \MythOS95
!endif

INCPATH = ;..\..\inc;$(MYTH95ROOT)\inc;

LIBPATH = ;..\..\obj;$(MYTH95ROOT)\lib;

#Ŀ
# File specific variables                                                  
#

EXE = st

OBJS = \
stapp.obj\
stsim.obj\
ststate.obj\
resource.res

LIBS = \
simgine.lib\
bach.lib\
bozo.lib\
chronos.lib\
ivory.lib\
escher.lib\
felix.lib\
gutenbrg.lib\
max.lib\
mythos.lib\
newton.lib\
spielbrg.lib\
turner.lib\
xfile.lib\
vangogh.lib\
advapi32.lib\
gdi32.lib\
user32.lib\
version.lib\
winmm.lib\
dplayx.lib\
dxguid.lib\
dsound.lib\
dinput.lib\
ddraw.lib\
mpr.lib\
uuid.lib\
vfw32.lib

#Ŀ
# First target                                                             
#

all: setstden $(EXE).exe

#Ŀ
# Standard make include                                                    
#

!include $(MYTH95ROOT)\inc\make.inc

#
#
#                                 Rules
#
#

#--- .c, .cpp, .asm setup in standard include ---

#
#
#                              Dependancies
#
#

..\stevt.iff : ..\stevt.hpp

..\stevt.hpp : ..\stevt.cel
   $(MYTH95ROOT)\bin\maxc ..\stevt.cel

stapp.obj : ..\stapp.cpp\
            ..\st.hpp

stsim.obj : ..\stsim.cpp\
              ..\st.hpp\
              ..\stevt.hpp

ststate.obj : ..\ststate.cpp\
              ..\st.hpp\
              ..\stevt.hpp

#Ŀ
# Executable                                                               
#

$(EXE).exe:   $(OBJS)
   $(LINK) $(LINKOPTS) /OUT:$*.exe /subsystem:windows,4 @<<
   $(OBJS) $(LIBS)
<<

clean:
   del *.obj
   del *.res
   del *.err
   del *.lst
   del *.ilk
   del *.pdb
   del ..\stevt.iff
   del ..\stevt.hpp

# End of makefile 

