#
#
#                        _/_/_/           _/_/_/_/
#                      _/                _/
#                     _/  _/_/          _/_/_/
#                    _/    _/  A M E   _/      R A M  E
#                     _/_/_/          _/
#
# A Framework for Microsoft Windows '95 Entertainment Software Using MythOS
#
#          Copyright (c) 1995 - 1997 by Charybdis Enterprises, Inc.
#                           All Rights Reserved
#
#
#
#           *** Charybdis Enterprises, Inc. Company Confidential ***
#
#  This file and all associated files are the company proprietary property
#        of Charybdis Enterprises, Inc.  Unauthorized use prohibited.
#
# CHARYBDIS ENTERPRISES, INC. MAKES NO WARRANTIES, EXPRESS OR IMPLIED, AS
# TO THE CORRECTNESS OF THIS CODE OR ANY DERIVATIVE WORKS WHICH INCORPORATE
# IT.  CHARYBDIS ENTERPRISES, INC. PROVIDES THE CODE ON AN "AS-IS" BASIS
# AND EXPLICITLY DISCLAIMS ANY LIABILITY, INCLUDING CONSEQUENTIAL AND
# INCIDENTAL DAMAGES FOR ERRORS, OMISSIONS, AND OTHER PROBLEMS IN THE CODE.
#
#
#
# makefile
#
#

#
#
#                               Variables
#
#

!if "$(DEBUG)" == ""
DEBUG = NO
!endif

!if "$(MYTH95ROOT)" == ""
MYTH95ROOT = \MythOS95
!endif

INCPATH = ;..\inc;$(MYTH95ROOT)\inc

#Ŀ
# File specific variables                                                  
#

LIBPATH = $(MYTH95ROOT)\lib;

EXE = llander

OBJS=\
    main.obj\
    llander.obj\
    screen.obj\
    support.obj\
    resource.res

LIBPATH = ..\..\obj;$(MYTH95ROOT)\lib;

LIBS=\
    max.lib\
    ivory.lib\
    xfile.lib\
    felix.lib\
    chronos.lib\
    bozo.lib\
    vangogh.lib\
    mythos.lib\
    escher.lib\
    gutenbrg.lib\
    version.lib\
    gdi32.lib\
    winmm.lib\
    user32.lib\
    ddraw.lib\
    dplayx.lib\
    uuid.lib\
    dxguid.lib\
    turner.lib

#Ŀ
# First target                                                             
#

all: setstden $(EXE).exe

#Ŀ
# Standard make include                                                    
#

!include $(MYTH95ROOT)\inc\make.inc

#
#
#                                 Rules
#
#

#--- .c, .cpp, .asm setup in standard include ---

#
#
#                              Dependencies
#
#

#
# Event system Files
#

..\landevt.iff : ..\landevt.hpp

..\landevt.hpp:  ..\landevt.cel
   $(MYTH95ROOT)\bin\maxc ..\landevt.cel

#
# C++ files
#

..\inc\global.hpp: \
        ..\inc\screen.hpp

main.obj: ..\main.cpp\
          ..\inc\global.hpp\
          ..\inc\resource.h\
          ..\inc\llander.hpp

llander.obj: ..\llander.cpp\
             ..\inc\global.hpp\
             ..\inc\llander.hpp\
             ..\landevt.hpp

screen.obj: ..\screen.cpp\
            ..\inc\global.hpp

support.obj: ..\support.cpp\
             ..\inc\global.hpp\
             ..\inc\resource.h

resource.res: ..\resource.rc\
              ..\inc\resource.h

#Ŀ
# Executable                                                               
#

$(EXE).exe: ..\llander.iff $(OBJS)
    $(LINK) $(LINKOPTS) /OUT:$*.exe /subsystem:windows,4 @<<
    $(OBJS) $(LIBS)
<<

..\llander.iff: \
      ..\llander.cif\
      ..\Data\9x15.iff\
      ..\Data\12x24.iff\
      ..\landevt.iff\
      ..\Data\lltitle.iff
   $(MYTH95ROOT)\bin\iffc -q ..\llander.cif

clean:
    del *.obj
    del *.res
    del *.err
    del *.lst
    del *.ilk
    del *.pdb
    del *.vcp
    del ..\landevt.hpp
    del ..\landevt.iff
    del ..\llander.iff

# End of makefile 

